---
phase: 01-codebase-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - util/performance.ts
  - public/abandoned/
  - app/components/progressBar.tsx
  - app/components/whoarewe.tsx
  - app/components/alert.tsx
  - app/footer.tsx
  - package.json
  - postcss.config.js
autonomous: true
requirements:
  - CLEAN-01
  - CLEAN-06

must_haves:
  truths:
    - 'No file at util/performance.ts exists in the codebase'
    - 'No public/abandoned/ directory exists'
    - 'Components with zero import consumers (progressBar.tsx, whoarewe.tsx, alert.tsx, footer.tsx) are deleted or marked with TODO comment after git log verification'
    - 'package.json contains no packages that are unused across all source files'
    - 'console.error and console.log are absent from util/performance.ts (which is deleted)'
  artifacts:
    - path: 'util/performance.ts'
      provides: 'Absence — file must not exist'
    - path: 'public/abandoned'
      provides: 'Absence — directory must not exist'
    - path: 'package.json'
      provides: 'Clean dependency list with unused packages removed'
  key_links:
    - from: 'package.json'
      to: 'postcss.config.js'
      via: 'postcss plugin references'
      pattern: "require\\(['\"]cssnano|postcss-preset-env"
    - from: 'app/components/'
      to: 'grep import consumers'
      via: 'import search before deletion'
      pattern: 'import.*from.*progressBar|whoarewe|alert|footer'
---

<objective>
Delete dead code and unused npm packages from the codebase. Remove confirmed dead files, verify uncertain ones via git log before acting, and clean up package.json of packages not referenced in any source file.

Purpose: Remove accumulated dead code so the codebase only contains what is actively used. Reduces cognitive overhead and eliminates confusing unused exports.
Output: Deleted files (util/performance.ts, public/abandoned/, confirmed-dead components), cleaned package.json.
</objective>

<execution_context>
@C:/Users/xndr/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/xndr/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/STRUCTURE.md
@.planning/codebase/CONCERNS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete confirmed dead files and directory</name>
  <files>
    util/performance.ts
    public/abandoned/
  </files>
  <action>
    Delete the following with confirmed-zero-import status (verified during research):

    1. Delete `util/performance.ts` — zero imports across all .ts/.tsx files (confirmed by research grep). Contains a console.log on line 67 — this file's deletion also satisfies CLEAN-06 for that console statement.

    2. Delete `public/abandoned/` directory and all its contents — 3 image files not referenced by any app code (confirmed by research).

    Commands:
    ```
    rm util/performance.ts
    rm -rf public/abandoned/
    ```

    Then verify `util/` directory: if it only contained `mouse.ts` and `performance.ts`, and `mouse.ts` is imported by `particles.tsx`, keep `mouse.ts`. If `util/` is now empty after deletion, remove it too. Check with `ls util/` first.

    Do NOT delete `util/mouse.ts` — it is imported by `app/components/particles.tsx`.

  </action>
  <verify>
    - `ls util/performance.ts` returns "No such file or directory"
    - `ls public/abandoned/` returns "No such file or directory"
    - `grep -r "performance" app/ util/ --include="*.ts" --include="*.tsx" -l` returns no results (or only files that don't import from util/performance)
    - Build still passes: `npm run build` exits 0
  </verify>
  <done>util/performance.ts and public/abandoned/ are absent from the repository; build passes</done>
</task>

<task type="auto">
  <name>Task 2: Audit and delete unused component files, clean package.json</name>
  <files>
    app/components/progressBar.tsx
    app/components/whoarewe.tsx
    app/components/alert.tsx
    app/footer.tsx
    package.json
    postcss.config.js
  </files>
  <action>
    **Step A — Verify component files via git log before deletion:**

    For each of the four components with no import consumers found (progressBar.tsx, whoarewe.tsx, alert.tsx, app/footer.tsx), run:
    ```
    git log --oneline --follow app/components/progressBar.tsx
    git log --oneline --follow app/components/whoarewe.tsx
    git log --oneline --follow app/components/alert.tsx
    git log --oneline --follow app/footer.tsx
    ```

    Also run a final import grep for each:
    ```
    grep -r "progressBar\|whoarewe\|alert\|footer" app/ --include="*.tsx" --include="*.ts" -l
    ```
    (Exclude the file itself from results — look for OTHER files importing them.)

    Decision rule:
    - If git log shows the file was recently removed from a consuming page AND no current imports exist → DELETE
    - If git log shows the file was added but never imported anywhere → DELETE
    - If anything is ambiguous (dynamic import pattern, referenced in non-TS config) → Add `// TODO: unused — confirm safe to delete before Phase 2` and leave the file in place

    **Step B — Audit npm packages:**

    Read `postcss.config.js` to see which PostCSS plugins are actually referenced. Then check `package.json` for:
    - `cssnano` — only keep if referenced in postcss.config.js
    - `postcss-preset-env` — only keep if referenced in postcss.config.js
    - `tailwindcss-debug-screens` — check if referenced anywhere in `tailwind.config.ts`; this is a dev-only debugging tool
    - `webpack-bundle-analyzer` — check if referenced in any script or config file

    For each package NOT referenced anywhere in source or config:
    ```
    npm uninstall <package-name>
    ```

    Do NOT remove packages that are referenced, even if they seem like dev tools.

    **Step C — Verify build after all changes:**
    ```
    npm run build
    ```
    If build fails due to a "missing module" error pointing to a deleted component, that file was actually used somewhere — restore it from git and add a TODO comment instead.

  </action>
  <verify>
    - Deleted component files no longer appear in `ls app/components/` and `ls app/`
    - OR files have `// TODO: unused — confirm safe to delete before Phase 2` comment if uncertain
    - `cat package.json` shows no packages that were confirmed unused
    - `npm run build` exits 0 with no missing module errors
    - `npm ls --depth=0 2>&1 | grep "UNMET"` returns nothing (no broken deps)
  </verify>
  <done>Unused components are deleted (or marked TODO if uncertain); unused npm packages are removed; build passes</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `npm run build` passes with exit code 0
2. `grep -r "util/performance" . --include="*.ts" --include="*.tsx"` returns no results
3. `ls public/abandoned` returns error (directory gone)
4. No TypeScript errors introduced by deletions (`npx tsc --noEmit` passes)
</verification>

<success_criteria>

- util/performance.ts deleted
- public/abandoned/ deleted
- Unused component files deleted or marked with TODO
- Unused npm packages removed from package.json
- Build passes after all deletions
- No remaining imports of deleted files
  </success_criteria>

<output>
After completion, create `.planning/phases/01-codebase-cleanup/01-01-SUMMARY.md` documenting:
- Files deleted and why (with git log findings)
- Files left with TODO and why (ambiguity reason)
- npm packages removed
- Any surprises found during audit
</output>
